{% extends 'Project/base_project.html' %}
{% load static %}


{% block cssCustoms2 %}
	<link rel="stylesheet" href="{% static "css/dato_personal.css" %}">
	<link rel="stylesheet" href="{% static "css/loader.css" %}">
{% endblock %}


<!-- contenido de la pagina -->
{% block content %}
	<div class="header-c">
		<div class="row">
			<div class="col-md he-title">
				<h2>DATOS PERSONALES</h2>
			</div>
		</div>
		<div class="row mb-3">
			<div class="col-md">
				<p class="info_title">Informaci√≥n de los datos personales del usuario.</p>
			</div>
		</div>
	</div>
	<!-- Contenido de la pagina -->
	<div class="body-c">
		<div class="container_content d-flex align-items-center justify-content-center">
			<div class="row">
				<div class="col-4 image_container">
					<div class="center">
						<img class="image_edit" src="{{ user.profile_picture.url }}" alt="Imagen usuario">
					</div>
					<h5 class="text-center"><strong class="text_warning">Foto</strong> de perfil</h5>
				</div>
				<div class="col">
					<div class="h2 pb-2 mb-4 text_info border-bottom border-3 border-primary">
						Bienvenido, {{ user }}!
					</div>
					<form method="post" action="{{ action_save }}" enctype="multipart/form-data">
						<input type="hidden" name="action" value="{{ action }}">
						{% csrf_token %}
						<div class="card_form row justify-content-end align-items-center">
							<div class="row">
								<div class="col">
									<div class="input-group form_shadow mb-3">
                        <span class="input-group-text" id="basic-addon1">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor"
                                 class="bi bi-person-fill" viewBox="0 0 16 16">
                                <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
                            </svg>
                        </span>
										<input type="text" class="form-control" aria-label="Username"
										       aria-describedby="basic-addon1" name="username" id="id_username"
										       value="{{ form.username.value }}">
									</div>
								</div>
								<div class="col">
									<div class="input-group form_shadow mb-3">
                        <span class="input-group-text" id="basic-addon1">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor"
                                 class="bi bi-person-fill" viewBox="0 0 16 16">
                                <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
                            </svg>
                        </span>
										<input type="text" class="form-control" aria-label="Username"
										       aria-describedby="basic-addon1" name="first_name" id="id_first_name"
										       value="{{ form.first_name.value }}">
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col">
									<div class="input-group form_shadow mb-3">
                        <span class="input-group-text" id="basic-addon1">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor"
                                 class="bi bi-person-fill" viewBox="0 0 16 16">
                                <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
                            </svg>
                        </span>
										<input type="text" class="form-control" aria-label="Username"
										       aria-describedby="basic-addon1" name="last_name" id="id_last_name"
										       value="{{ form.last_name.value }}">
									</div>
								</div>
								<div class="col">
									<div class="input-group form_shadow mb-3">
                        <span class="input-group-text" id="basic-addon1">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor"
                                 class="bi bi-envelope-fill" viewBox="0 0 16 16">
                                <path d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414zM0 4.697v7.104l5.803-3.558zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586zm3.436-.586L16 11.801V4.697z"/>
                            </svg>
                        </span>
										<input type="email" class="form-control" aria-label="Username"
										       aria-describedby="basic-addon1" name="email" id="id_email"
										       value="{{ form.email.value }}">
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col">
									<div class="input-group form_shadow mb-3">
                        <span class="input-group-text" id="basic-addon1">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor"
                                 class="bi bi-image-fill" viewBox="0 0 16 16">
                                <path d="M.002 3a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-12a2 2 0 0 1-2-2zm1 9v1a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V9.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062zm5-6.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0"/>
                            </svg>
                        </span>
										<input class="form-control" type="text" id="fileName"
										       readonly placeholder="{{ form.profile_picture.value }}">
										<input class="form-control" type="file" accept="image/*"
										       id="id_profile_picture" name="profile_picture"
										       style="display: none;">
										<button
												class="btn btn_subirfoto col-auto d-flex justify-content-center align-items-center button"
												type="button" id="uploadButton">
											<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25"
											     fill="currentColor" class="bi bi-capslock-fill" viewBox="0 0 16 16">
												<path
														d="M7.27 1.047a1 1 0 0 1 1.46 0l6.345 6.77c.6.638.146 1.683-.73 1.683H11.5v1a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1v-1H1.654C.78 9.5.326 8.455.924 7.816zM4.5 13.5a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1z"/>
											</svg>
										</button>
									</div>
								</div>
								<div class="col">
									<div class="input-group mb-3">
										<a href="{% url 'password_change' %}" class="btn btn_primary col" >
											<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25"
											     fill="currentColor" class="bi bi-person-fill-lock" viewBox="0 0 16 16">
												<path d="M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0m-9 8c0 1 1 1 1 1h5v-1a2 2 0 0 1 .01-.2 4.49 4.49 0 0 1 1.534-3.693Q8.844 9.002 8 9c-5 0-6 3-6 4m7 0a1 1 0 0 1 1-1v-1a2 2 0 1 1 4 0v1a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1zm3-3a1 1 0 0 0-1 1v1h2v-1a1 1 0 0 0-1-1"/>
											</svg>
											Cambiar clave
										</a>
									</div>
								</div>
							</div>
							<div class="row justify-content-end mt-4">
								<button type="submit" class="btn btn_primary m-2 col-auto fw-bold">Actualizar</button>
								<a href="{% url 'list_projects' %}" class="btn btn_warning m-2 col-auto fw-bold">Cancelar</a>
							</div>
						</div>
					</form>

					{% if messages %}
						<div id="bodyAlertPlaceholder" class="fixed-button">
							{% for message in messages %}
								<div class="alert alert-{{ message.tags }} alert-dismissible" role="alert">
									<div>{{ message }}</div>
									<button type="button" class="btn-close" data-bs-dismiss="alert"
									        aria-label="Close"></button>
								</div>
							{% endfor %}
						</div>
					{% endif %}

				</div>
			</div>
		</div>
	</div>

{% endblock %}

<!-- Modal's -->
{% block modals %}

{% endblock modals %}

{% block js %}
	<script src="{% static "js/menu.js" %}"></script>
	<script src="{% static "js/datos_personales.js" %}"></script>
{% endblock js %}