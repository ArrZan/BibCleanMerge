{% extends 'Project/base_project.html' %}
{% load static %}


{% block cssCustoms2 %}
	<link rel="stylesheet" href="{% static "css/dato_personal.css" %}">
	<link rel="stylesheet" href="{% static "css/loader.css" %}">
{% endblock %}


<!-- contenido de la pagina -->
{% block content %}
	<!-- información de la pagína -->
	<div class="container-fluid header-c">
		<div class="row">
			<div class="col-md he-title">
				<h2>CAMBIAR CONTRASEÑA</h2>
			</div>
		</div>
		<div class="row mb-3">
			<div class="col-md">
				<p class="info_title">Apartado para cambiar la contraseña del usuario</p>
			</div>
		</div>
	</div>
	<!-- Contenido de la pagína -->
	<div class="container">
		<div class="col-sm-12">
			<div class="">
				<div class=" card card-body">
					<form action="{% url 'password_change' %}" method="post">
						{% csrf_token %}
						<div class="modal-body fondo">
							<label class="form-label fw-bold">Ingrese contraseña actual</label>
							<div class="input-group mb-3">
                            <span class="input-group-text" id="basic-addon1">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                     class="bi bi-lock-fill" viewBox="0 0 16 16">
                                    <path
		                                    d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2m3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2"/>
                                </svg>
                            </span>
								<input type="password" class="form-control" placeholder="Ingrese contraseña"
								       aria-label="password" aria-describedby="basic-addon1" name="old_password"
								       id="old_password">
							</div>
							<div id="passwordHelpBlock" class="form-text">
								Para poder cambiar de contraseña debe ingresar la contraseña actual con el fin de
								verificación su identidad.
							</div>
							<label class="form-label fw-bold">Ingrese nueva contraseña</label>
							<div class="input-group mb-3">
                            <span class="input-group-text">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                     class="bi bi-key" viewBox="0 0 16 16">
                                    <path
		                                    d="M0 8a4 4 0 0 1 7.465-2H14a.5.5 0 0 1 .354.146l1.5 1.5a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0L13 9.207l-.646.647a.5.5 0 0 1-.708 0L11 9.207l-.646.647a.5.5 0 0 1-.708 0L9 9.207l-.646.647A.5.5 0 0 1 8 10h-.535A4 4 0 0 1 0 8m4-3a3 3 0 1 0 2.712 4.285A.5.5 0 0 1 7.163 9h.63l.853-.854a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.793-.793-1-1h-6.63a.5.5 0 0 1-.451-.285A3 3 0 0 0 4 5"/>
                                    <path d="M4 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/>
                                </svg>
                            </span>
								<input type="password" class="form-control" id="new_password1"
								       placeholder="Nueva contraseña"
								       aria-label="password" aria-describedby="basic-addon1" name="new_password1">
							</div>
							<div class="input-group mb-3">
                            <span class="input-group-text">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                     class="bi bi-key-fill" viewBox="0 0 16 16">
                                    <path
		                                    d="M3.5 11.5a3.5 3.5 0 1 1 3.163-5H14L15.5 8 14 9.5l-1-1-1 1-1-1-1 1-1-1-1 1-1-1-1 1H6.663a3.5 3.5 0 0 1-3.163 2M2.5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2"/>
                                </svg>
                            </span>
								<input type="password" class="form-control" id="new_password2" name="new_password2"
								       placeholder="Confirmar contraseña" aria-label="password"
								       aria-describedby="basic-addon1">
							</div>
							<div id="mensaje_validacion" class="form-text mt-2"></div>
							<!-- Mensaje de validación -->
							<div class="form-text">
								Ingrese correctamente la nueva contraseña.
							</div>
						</div>
						<div class="modal-footer fondo d-flex justify-content-center">
							<button type="submit" class="btn btn_primary m-1 col-auto">Confirmar
							</button>
							<a href="{% url 'update_user' user.id %}" class="btn btn_warning m-1 col-auto">Cancelar
							</a>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>

	{% if form.errors %}
		<div id="bodyAlertPlaceholder" class="fixed-button">
			<div>
				<div class="alert alert-success alert-dismissible" role="alert">
					<div>{{ form.errors }}</div>
					<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
				</div>
			</div>
		</div>
	{% endif %}
{% endblock %}

<!-- Modal's -->
{% block modals %}

{% endblock modals %}

{% block js %}
	<script src="{% static "js/menu.js" %}"></script>
	<script src="{% static "js/datos_personales.js" %}"></script>
{% endblock js %}